<div class="card">
  <div class="p-5">
    <div class="text-center mb-2">
      <h3 class="font-bold text-2xl">Sikap dan Keahlian Personal</h3>
    </div>

    <div class="flex justify-between mb-4">
      <div class="flex align-items-center">
        <h4 class="mt-5 mr-3">Form Penilaian Sikap dan Keahlian Personal</h4>
        <p-dropdown
          id="assessmentYear"
          [options]="yearOptions"
          [(ngModel)]="assessmentYear"
          placeholder="Pilih Tahun"
          (onChange)="onYearChange()"
        ></p-dropdown>
      </div>
      <div class="flex align-items-center">
        <button
          pButton
          label="Simpan"
          icon="pi pi-save"
          (click)="saveAllEmpAttitudeSkills()"
          [disabled]="isSaving || isExistingData || !isFormComplete()"
          class="ml-3"
        ></button>
      </div>
    </div>

    <div *ngFor="let group of attitudeSkills">
      <p-table [value]="group.attitude_skills" responsiveLayout="scroll">
        <ng-template pTemplate="header">
          <tr>
            <th class="column1">
              {{ group.group_name }} ({{ group.percentage }}%)
            </th>
            <th class="column2-th">Nilai</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-skill>
          <tr>
            <td class="column1">{{ skill.attitude_skill }}</td>
            <td class="column2-td">
              <p-dropdown
                [options]="scoreOptions"
                [(ngModel)]="skill.score"
                [disabled]="isExistingData"
                placeholder="Pilih Nilai"
                appendTo="body"
              ></p-dropdown>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
