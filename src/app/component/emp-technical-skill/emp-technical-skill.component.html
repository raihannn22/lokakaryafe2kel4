<div class="card">
    <div class="p-5">
        <div class="text-center mb-2">
            <h3 style="font-weight: bold; font-size: 2.25rem;">Keahlian Teknis Personal</h3>
        </div>
        <div class="flex justify-content-between">
            <h2 class="mt-5">Form Penilaian Sikap dan Keahlian Personal</h2>
            <div class="flex justify-content-end">
                <button pButton label="Simpan" icon="pi pi-save" (click)="saveAllEmpTechnicalSkills()"
                    [disabled]="isSaving || isExistingData || !isFormComplete()"></button>
            </div>
        </div>
        
        <div *ngFor="let techSkillData of technicalSkillData">

            
        
            <p-table [value]="techSkillData.empSkills">
                <ng-template pTemplate="caption">
                    <h3>{{ techSkillData.skill.technical_skill }}</h3>
                </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th class="column1">Keahlian</th>
                        <th class="column2">Nilai</th>
                        <th class="column3">Aksi</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-empSkill let-i="rowIndex">
                    <tr>
                        <td class="column1">
                            <input p pInputText [(ngModel)]="empSkill.criteria" class="pInputText" />
                        </td>
                        <td  class="column2">
                            <p-dropdown [options]="scoreOptions" [(ngModel)]="empSkill.score" placeholder="Select score" appendTo="body"
                                [disabled]="empSkill.isExisting">
                            </p-dropdown>
                        </td>
        
                        <td class="column3">
                            <button pButton label="" icon="pi pi-trash" severity="danger" (click)="removeRow(techSkillData.skill.id, i)"
                                [disabled]="empSkill.isExisting"> <!-- Nonaktifkan jika data lama -->
                            </button>
                        </td>
        
                    </tr>
                </ng-template>
            </p-table>
        <div class="row-for-add my-5">
            <button pButton label="" icon="pi pi-plus" severity="primary" (click)="addRow(techSkillData.skill.id)"></button>
        </div>
        
        <!-- <button pButton label="Simpan" icon="pi pi-save" (click)="saveAllEmpTechnicalSkills()" [disabled]="isSaving|| isExistingData">
            Save All
        </button> -->
    </div>
</div>