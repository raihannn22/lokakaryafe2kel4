<p-table [value]="users" [paginator]="true" [rows]="10" [loading]="loading" class="p-datatable-striped">
    <ng-template pTemplate="header">
        <tr>
            <th>Username</th>
            <th>Full Name</th>
            <th>Position</th>
            <th>Email Address</th>
            <th>Employee Status</th>
            <th>Join Date</th>
            <th>Enabled</th>
            <!-- <th>Password</th> -->
            <th>Division Id</th>
            <th>Action</th>
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-user>
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.full_name }}</td>
            <td>{{ user.position }}</td>
            <td>{{ user.email_address }}</td>
            <!-- <td>{{ user.employee_status }}</td> -->
            <td>
                @if (user.employee_status == 1) {
                    <p-button label="kontrak" severity="warning" />
                }@else {
                    <p-button label="permanen" severity="info" />}
            </td>
            <td>{{ user.join_date | date:'yyyy-MM-dd' }}</td>
            <!-- <td>{{ user.enabled ? 'Yes' : 'No' }}</td> -->
            <td>
                {{
                user.enabled === 0 ? 'Disabled' :
                user.enabled === 1 ? 'Enabled' :
                'Invalid'
                }}
            </td>
            <!-- <td>{{ user.password }}</td> -->
            <td>{{ user.division_id }}</td>
            <td>
                <button pButton type="button" label="Create" icon="pi pi-pencil" (click)="openCreateDialog()"></button>
                <button pButton type="button" label="Delete" icon="pi pi-trash" class="p-button-danger"
                   ></button>
            </td>

            
        </tr>
    </ng-template>
</p-table>

<app-create-user
  [(visible)]="displayCreateDialog"
  (userCreated)="onUserCreated($event)">
</app-create-user>
