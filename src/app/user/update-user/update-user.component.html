<!-- <div>
    {{this.user}}
</div> -->
<div class="card flex justify-content-center">
    <!-- Tombol untuk membuka dialog -->
    <!-- <p-button label="Tambah Pengguna" icon="pi pi-plus" (click)="visible = true" class="mb-3"></p-button> -->
    <p-dialog header="Edir Pengguna" [modal]="true" (onHide)="closeDialog()" [(visible)]="visible" [style]="{ width: '40rem' }">
        <div class="p-fluid">
        <div class="field">
          <label for="username">Username</label>
          <input pInputText id="username" [(ngModel)]="newUser.username" name="username" #username="ngModel" required />
          <small class="p-error" *ngIf="username.invalid && username.touched">Username wajib diisi.</small>
        </div>
  
        <div class="field">
          <label for="full_name">Nama Lengkap</label>
          <input pInputText id="full_name" [(ngModel)]="newUser.full_name" name="full_name" #fullName="ngModel" required />
          <small class="p-error" *ngIf="fullName.invalid && fullName.touched">Nama Lengkap wajib diisi.</small>
        </div>
  
        <div class="field">
          <label for="position">Jabatan</label>
          <input pInputText id="position" [(ngModel)]="newUser.position" name="position" #position="ngModel" required />
          <small class="p-error" *ngIf="position.invalid && position.touched">Jabatan wajib diisi.</small>
        </div>
  
        <div class="field">
          <label for="email">Alamat Email</label>
          <input pInputText id="email" [(ngModel)]="newUser.email_address" name="email" type="email" #email="ngModel" required />
          <small class="p-error" *ngIf="email.invalid && email.touched">Alamat Email wajib diisi.</small>
        </div>
  
        <div class="field">
          <label for="employee_status">Status Karyawan</label>
          <p-dropdown 
            [options]="employeeStatusOptions" 
            [(ngModel)]="newUser.employee_status" 
            placeholder="Pilih Status" 
            id="employee_status"
            name="employee_status"
            #employeeStatus="ngModel"
            required>
          </p-dropdown>
          <small class="p-error" *ngIf="employeeStatus.invalid && employeeStatus.touched">Status Karyawan wajib dipilih.</small>
        </div>
  
        <div class="field">
          <label for="join_date">Tanggal Bergabung</label>
          <p-calendar 
            [(ngModel)]="newUser.join_date" 
            dateFormat="yy-mm-dd" 
            id="join_date"
            name="join_date"
            #joinDate="ngModel"
            [showIcon]="true"
            required>
          </p-calendar>
          <small class="p-error" *ngIf="joinDate.invalid && joinDate.touched">Tanggal Bergabung wajib diisi.</small>
        </div>
  
        <div class="field">
          <label for="enabled">Status Akun</label>
          <p-dropdown 
            [options]="enabledOptions" 
            [(ngModel)]="newUser.enabled" 
            placeholder="Pilih Status" 
            id="enabled"
            name="enabled"
            #enabled="ngModel"
            required>
          </p-dropdown>
          <small class="p-error" *ngIf="enabled.invalid && enabled.touched">Status Akun wajib dipilih.</small>
        </div>
  
        <div class="field">
          <label for="password">Kata Sandi</label>
          <input pInputText type="password" id="password" [(ngModel)]="newUser.password" name="password" #password="ngModel" required />
          <small class="p-error" *ngIf="password.invalid && password.touched">Kata Sandi wajib diisi.</small>
        </div>
  
        <div class="field">
          <label for="division_id">ID Divisi</label>
          <p-dropdown 
            [options]="divisions" 
            [(ngModel)]="newUser.division_id" 
            optionLabel="DIVISION_NAME" 
            optionValue="ID"
            placeholder="Pilih Divisi"
            name="division_id"
            #division="ngModel"
            required>
          </p-dropdown>
          <small class="p-error" *ngIf="division.invalid && division.touched">ID Divisi wajib dipilih.</small>
        </div>
  
        <div class="field">
          <label for="roles">Roles</label>
          <div class="flex flex-column gap-2">
            <div *ngFor="let role of roles">
              <p-checkbox
                [(ngModel)]="newUser.app_role"
                [value]="role.ID"
                name="roles"
                [label]="role.ROLENAME"
                required>
              </p-checkbox>
            </div>
          </div>
        </div>
      </div>
  
      <div class="flex justify-content-end gap-2 mt-3">
        <p-button label="Batal" icon="pi pi-times" severity="secondary" (click)="closeDialog()"></p-button>
        <p-button label="Simpan" icon="pi pi-check" (click)="onSubmit()" [disabled]="!isValidForm()"></p-button>
      </div>
    </p-dialog>
  </div>
  